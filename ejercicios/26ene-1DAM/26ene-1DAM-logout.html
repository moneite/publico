<!DOCTYPE html>
<html lang="es">

<!--
Tema: Web Storage - localstorage y sessionstorage 
alumno: Carlos Boni
fecha: 18 enero
-->

<head>
	<title>HTML5 - WebStorage - Logout</title>
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="26ene-1DAM-logout.css">
</head>


<body>

	<!--<a href="18-ene-sessionstorage.html">Volver a  pag. inicial</a>-->
	<div id=todo>
	<div id=azul></div>  
		<div id=verde > </div> 
	<div id=rojo ><b>LOGOUT</b><form name="miFormulario" onSubmit="return salir()"></form>
		<!--<input type="text" id="usr" name="usuario" maxlength="10" required><br>-->
		<input type="submit" value="Salir">
	</form>
	<!-- creamos un elemento vacío para luego poner allí el resultado
			de nuestro script -->
		</div>
		</div>
	<br />

		<script>
	function desconectar(){
		if (typeof(Storage) !== "undefined") {
		  sessionStorage.removeItem("usuario");
		} else {
		  window.alert("Este navegador no soporta web storage...");
		}
		window.location.replace("26ene-1DAM-login.html")
		return false;
	}
	window.onload = (event) => {
		//Con esto recuperamos el valor del campo usuario y lo mostramos.
		  var usuario = sessionStorage.getItem("usuario");
		  document.getElementsByClassName("bnv")[0].innerHTML = "Bienvenid@ " + usuario;
	};
	</script>
</body>

</html>